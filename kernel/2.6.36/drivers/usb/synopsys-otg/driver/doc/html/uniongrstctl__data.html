<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: grstctl_data Union Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>grstctl_data Union Reference</h1><!-- doxytag: class="grstctl_data" -->This union represents the bit fields of the Core Reset Register (GRSTCTL).  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d89d99c95bd5177fbd879d38963d3e62"></a><!-- doxytag: member="grstctl_data::d32" ref="d89d99c95bd5177fbd879d38963d3e62" args="" -->
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uniongrstctl__data.html#d89d99c95bd5177fbd879d38963d3e62">d32</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">raw register data <br></td></tr>
<tr><td class="memItemLeft" nowrap><a class="anchor" name="7907ac8831a2f72dec59592a093871e3"></a><!-- doxytag: member="grstctl_data::b" ref="7907ac8831a2f72dec59592a093871e3" args="" -->
struct {</td></tr>

<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#82df3462742f67d18b2964fafc0d9c02">csftrst</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Core Soft Reset (CSftRst) (Device and Host).  <a href="#904bb870a89d76fe699f6cb0d539e54f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#7418a85aa4ffaa77c49f046202c97c01">hsftrst</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hclk Soft Reset.  <a href="#0a829bab6848f2129fb302cc879f8453"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#6bf39518efe967ed4c7f9db6d3811a90">hstfrm</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Host Frame Counter Reset (Host Only)<br>
.  <a href="#58e8d4fd07e1861d4d4b14d8cd778fa4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#259049fa7991ecad9ca1595763b636f9">intknqflsh</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">In Token Sequence Learning Queue Flush (INTknQFlsh) (Device Only). <br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#88467c1f0580f4837d229d85b35c97a7">rxfflsh</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">RxFIFO Flush (RxFFlsh) (Device and Host).  <a href="#84d734965d4f110023c1389b0ff3f99c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#8a5fcfc953bd0ba61beb36739c70b0ef">txfflsh</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TxFIFO Flush (TxFFlsh) (Device and Host).  <a href="#9a92b033c5509cafff50b5c45932478a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#d074ddfa3331eeb6d088e35f4f627481">txfnum</a>:5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TxFIFO Number (TxFNum) (Device and Host).  <a href="#c339afc8688300cb67c67b75d891f370"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#8c0515740955d128e3c8dd51ca5417ea">reserved11_29</a>:19</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reserved. <br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#13e11d4c86ca39b8edf3c1878708fad1">dmareq</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DMA Request Signal.  <a href="#4b13d18d381ad1547693fc9e6e3b7616"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap>&nbsp;&nbsp;&nbsp;unsigned&nbsp;&nbsp;&nbsp;<a class="el" href="uniongrstctl__data.html#587c5ec6713e2626db517105ab9aea3e">ahbidle</a>:1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AHB Master Idle.  <a href="#ffe750972d34958b0354a13428d935ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap valign="top">}&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uniongrstctl__data.html#7907ac8831a2f72dec59592a093871e3">b</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">register bits <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This union represents the bit fields of the Core Reset Register (GRSTCTL). 
<p>
Set/clear the bits using the bit fields then write the <em>d32</em> value to the register. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00388">388</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.<hr><h2>Field Documentation</h2>
<a class="anchor" name="82df3462742f67d18b2964fafc0d9c02"></a><!-- doxytag: member="grstctl_data::csftrst" ref="82df3462742f67d18b2964fafc0d9c02" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#82df3462742f67d18b2964fafc0d9c02">grstctl_data::csftrst</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Core Soft Reset (CSftRst) (Device and Host). 
<p>
The application can flush the control logic in the entire core using this bit. This bit resets the pipelines in the AHB Clock domain as well as the PHY Clock domain.<p>
The state machines are reset to an IDLE state, the control bits in the CSRs are cleared, all the transmit FIFOs and the receive FIFO are flushed.<p>
The status mask bits that control the generation of the interrupt, are cleared, to clear the interrupt. The interrupt status bits are not cleared, so the application can get the status of any events that occurred in the core after it has set this bit.<p>
Any transactions on the AHB are terminated as soon as possible following the protocol. Any transactions on the USB are terminated immediately.<p>
The configuration settings in the CSRs are unchanged, so the software doesn't have to reprogram these registers (Device Configuration/Host Configuration/Core System Configuration/Core PHY Configuration).<p>
The application can write to this bit, any time it wants to reset the core. This is a self clearing bit and the core clears this bit after all the necessary logic is reset in the core, which may take several clocks, depending on the current state of the core. 
<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00428">428</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<a class="anchor" name="7418a85aa4ffaa77c49f046202c97c01"></a><!-- doxytag: member="grstctl_data::hsftrst" ref="7418a85aa4ffaa77c49f046202c97c01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#7418a85aa4ffaa77c49f046202c97c01">grstctl_data::hsftrst</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hclk Soft Reset. 
<p>
The application uses this bit to reset the control logic in the AHB clock domain. Only AHB clock domain pipelines are reset. 
<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00435">435</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<a class="anchor" name="6bf39518efe967ed4c7f9db6d3811a90"></a><!-- doxytag: member="grstctl_data::hstfrm" ref="6bf39518efe967ed4c7f9db6d3811a90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#6bf39518efe967ed4c7f9db6d3811a90">grstctl_data::hstfrm</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Host Frame Counter Reset (Host Only)<br>
. 
<p>
The application can reset the (micro)frame number counter inside the core, using this bit. When the (micro)frame counter is reset, the subsequent SOF sent out by the core, will have a (micro)frame number of 0. 
<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00444">444</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<a class="anchor" name="88467c1f0580f4837d229d85b35c97a7"></a><!-- doxytag: member="grstctl_data::rxfflsh" ref="88467c1f0580f4837d229d85b35c97a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#88467c1f0580f4837d229d85b35c97a7">grstctl_data::rxfflsh</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
RxFIFO Flush (RxFFlsh) (Device and Host). 
<p>
The application can flush the entire Receive FIFO using this bit.<p>
The application must first ensure that the core is not in the middle of a transaction.<p>
The application should write into this bit, only after making sure that neither the DMA engine is reading from the RxFIFO nor the MAC is writing the data in to the FIFO.<p>
The application should wait until the bit is cleared before performing any other operations. This bit will takes 8 clocks (slowest of PHY or AHB clock) to clear. 
<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00463">463</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<a class="anchor" name="8a5fcfc953bd0ba61beb36739c70b0ef"></a><!-- doxytag: member="grstctl_data::txfflsh" ref="8a5fcfc953bd0ba61beb36739c70b0ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#8a5fcfc953bd0ba61beb36739c70b0ef">grstctl_data::txfflsh</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
TxFIFO Flush (TxFFlsh) (Device and Host). 
<p>
This bit is used to selectively flush a single or all transmit FIFOs. The application must first ensure that the core is not in the middle of a transaction.<p>
The application should write into this bit, only after making sure that neither the DMA engine is writing into the TxFIFO nor the MAC is reading the data out of the FIFO.<p>
The application should wait until the core clears this bit, before performing any operations. This bit will takes 8 clocks (slowest of PHY or AHB clock) to clear. 
<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00478">478</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<a class="anchor" name="d074ddfa3331eeb6d088e35f4f627481"></a><!-- doxytag: member="grstctl_data::txfnum" ref="d074ddfa3331eeb6d088e35f4f627481" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#d074ddfa3331eeb6d088e35f4f627481">grstctl_data::txfnum</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
TxFIFO Number (TxFNum) (Device and Host). 
<p>
This is the FIFO number which needs to be flushed, using the TxFIFO Flush bit. This field should not be changed until the TxFIFO Flush bit is cleared by the core.<ul>
<li>0x0 : Non Periodic TxFIFO Flush</li><li>0x1 : Periodic TxFIFO #1 Flush in device mode or Periodic TxFIFO in host mode</li><li>0x2 : Periodic TxFIFO #2 Flush in device mode.</li><li>...</li><li>0xF : Periodic TxFIFO #15 Flush in device mode</li><li>0x10: Flush all the Transmit NonPeriodic and Transmit Periodic FIFOs in the core </li></ul>

<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00495">495</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<a class="anchor" name="13e11d4c86ca39b8edf3c1878708fad1"></a><!-- doxytag: member="grstctl_data::dmareq" ref="13e11d4c86ca39b8edf3c1878708fad1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#13e11d4c86ca39b8edf3c1878708fad1">grstctl_data::dmareq</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DMA Request Signal. 
<p>
Indicated DMA request is in probress. Used for debug purpose. 
<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00500">500</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<a class="anchor" name="587c5ec6713e2626db517105ab9aea3e"></a><!-- doxytag: member="grstctl_data::ahbidle" ref="587c5ec6713e2626db517105ab9aea3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="uniongrstctl__data.html#587c5ec6713e2626db517105ab9aea3e">grstctl_data::ahbidle</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
AHB Master Idle. 
<p>
Indicates the AHB Master State Machine is in IDLE condition. 
<p>
Definition at line <a class="el" href="dwc__otg__regs_8h-source.html#l00503">503</a> of file <a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>.
</div>
</div><p>
<hr>The documentation for this union was generated from the following file:<ul>
<li><a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue May 5 02:22:49 2009 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
