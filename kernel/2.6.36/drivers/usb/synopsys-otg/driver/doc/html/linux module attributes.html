<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: </title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
The Linux module attributes feature is used to provide the Linux Diagnostic Interface.<p>
These attributes are accessed through sysfs. The diagnostic interface will provide access to the controller for bringing up the hardware and testing.<p>
The following table shows the attributes. <table border="1" cellspacing="3" cellpadding="3">
<tr>
<td><b> Name</b> </td><td><b> Description</b> </td><td><b> Access</b> <p>
</td></tr>
<tr>
<td>mode  </td><td>Returns the current mode: 0 for device mode, 1 for host mode </td><td>Read <p>
</td></tr>
<tr>
<td>hnpcapable  </td><td>Gets or sets the "HNP-capable" bit in the Core USB Configuraton Register. Read returns the current value. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>srpcapable  </td><td>Gets or sets the "SRP-capable" bit in the Core USB Configuraton Register. Read returns the current value. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>hsic_connect  </td><td>Gets or sets the "HSIC-Connect" bit in the GLPMCFG Register. Read returns the current value. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>inv_sel_hsic  </td><td>Gets or sets the "Invert Select HSIC" bit in the GLPMFG Register. Read returns the current value. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>hnp  </td><td>Initiates the Host Negotiation Protocol. Read returns the status. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>srp  </td><td>Initiates the Session Request Protocol. Read returns the status. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>buspower  </td><td>Gets or sets the Power State of the bus (0 - Off or 1 - On) </td><td>Read/Write <p>
</td></tr>
<tr>
<td>bussuspend  </td><td>Suspends the USB bus. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>busconnected  </td><td>Gets the connection status of the bus </td><td>Read <p>
</td></tr>
<tr>
<td>gotgctl  </td><td>Gets or sets the Core Control Status Register. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>gusbcfg  </td><td>Gets or sets the Core USB Configuration Register </td><td>Read/Write <p>
</td></tr>
<tr>
<td>grxfsiz  </td><td>Gets or sets the Receive FIFO Size Register </td><td>Read/Write <p>
</td></tr>
<tr>
<td>gnptxfsiz  </td><td>Gets or sets the non-periodic Transmit Size Register </td><td>Read/Write <p>
</td></tr>
<tr>
<td>gpvndctl  </td><td>Gets or sets the PHY Vendor Control Register </td><td>Read/Write <p>
</td></tr>
<tr>
<td>ggpio  </td><td>Gets the value in the lower 16-bits of the General Purpose IO Register or sets the upper 16 bits. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>guid  </td><td>Gets or sets the value of the User ID Register </td><td>Read/Write <p>
</td></tr>
<tr>
<td>gsnpsid  </td><td>Gets the value of the Synopsys ID Regester </td><td>Read <p>
</td></tr>
<tr>
<td>devspeed  </td><td>Gets or sets the device speed setting in the DCFG register </td><td>Read/Write <p>
</td></tr>
<tr>
<td>enumspeed  </td><td>Gets the device enumeration Speed. </td><td>Read <p>
</td></tr>
<tr>
<td>hptxfsiz  </td><td>Gets the value of the Host Periodic Transmit FIFO </td><td>Read <p>
</td></tr>
<tr>
<td>hprt0  </td><td>Gets or sets the value in the Host Port Control and Status Register </td><td>Read/Write <p>
</td></tr>
<tr>
<td>regoffset  </td><td>Sets the register offset for the next Register Access </td><td>Read/Write <p>
</td></tr>
<tr>
<td>regvalue  </td><td>Gets or sets the value of the register at the offset in the regoffset attribute. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>remote_wakeup  </td><td>On read, shows the status of Remote Wakeup. On write, initiates a remote wakeup of the host. When bit 0 is 1 and Remote Wakeup is enabled, the Remote Wakeup signalling bit in the Device Control Register is set for 1 milli-second. </td><td>Read/Write <p>
</td></tr>
<tr>
<td>regdump  </td><td>Dumps the contents of core registers. </td><td>Read <p>
</td></tr>
<tr>
<td>spramdump  </td><td>Dumps the contents of core registers. </td><td>Read <p>
</td></tr>
<tr>
<td>hcddump  </td><td>Dumps the current HCD state. </td><td>Read <p>
</td></tr>
<tr>
<td>hcd_frrem  </td><td>Shows the average value of the Frame Remaining field in the Host Frame Number/Frame Remaining register when an SOF interrupt occurs. This can be used to determine the average interrupt latency. Also shows the average Frame Remaining value for start_transfer and the "a" and "b" sample points. The "a" and "b" sample points may be used during debugging bto determine how long it takes to execute a section of the HCD code. </td><td>Read <p>
</td></tr>
<tr>
<td>rd_reg_test  </td><td>Displays the time required to read the GNPTXFSIZ register many times (the output shows the number of times the register is read). </td><td>Read <p>
</td></tr>
<tr>
<td>wr_reg_test  </td><td>Displays the time required to write the GNPTXFSIZ register many times (the output shows the number of times the register is written). </td><td>Read <p>
</td></tr>
<tr>
<td>lpm_response  </td><td>Gets or sets lpm_response mode. Applicable only in device mode. </td><td>Write <p>
</td></tr>
<tr>
<td>sleep_local_dev  </td><td>Generetates sleep signaling. Applicable only in host mode. </td><td>Write <p>
</td></tr>
<tr>
<td>sleep_status  </td><td>Shows sleep status of device. </td><td>Read <p>
</td></tr>
</table>
<p>
Example usage: To get the current mode: cat /sys/devices/lm0/mode<p>
To power down the USB: echo 0 &gt; /sys/devices/lm0/buspower <hr size="1"><address style="align: right;"><small>Generated on Tue May 5 02:22:49 2009 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
