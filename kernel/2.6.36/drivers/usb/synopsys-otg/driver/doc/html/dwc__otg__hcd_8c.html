<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: dwc_otg_hcd.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>dwc_otg_hcd.c File Reference</h1>This file implements HCD Core. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dwc__otg__regs_8h-source.html">dwc_otg_regs.h</a>&quot;</code><br>

<p>
<a href="dwc__otg__hcd_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5595437c199432efbd3609dc87ef5afa"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_alloc_hcd" ref="5595437c199432efbd3609dc87ef5afa" args="(void)" -->
<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#5595437c199432efbd3609dc87ef5afa">dwc_otg_hcd_alloc_hcd</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function allocates <a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a> structure and returns pointer on it. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#4f6f55c20aa8eb215d692195f9f0280d">dwc_otg_hcd_connect_timeout</a> (void *ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connection timeout function.  <a href="#4f6f55c20aa8eb215d692195f9f0280d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#5a7a5af3b84b4af188fa3b60058a039c">hcd_start_func</a> (void *_vp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Work queue function for starting the HCD when A-Cable is connected.  <a href="#5a7a5af3b84b4af188fa3b60058a039c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="17f7272e6a2fe4515b3160ad4694ea55"></a><!-- doxytag: member="dwc_otg_hcd.c::del_xfer_timers" ref="17f7272e6a2fe4515b3160ad4694ea55" args="(dwc_otg_hcd_t *hcd)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#17f7272e6a2fe4515b3160ad4694ea55">del_xfer_timers</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="939a9c8afc75cbe47625e392a7c66a1a"></a><!-- doxytag: member="dwc_otg_hcd.c::del_timers" ref="939a9c8afc75cbe47625e392a7c66a1a" args="(dwc_otg_hcd_t *hcd)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#939a9c8afc75cbe47625e392a7c66a1a">del_timers</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#8fd9263ed86449c5440edd834cb4d766">kill_urbs_in_qh_list</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, dwc_list_link_t *qh_list)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes all the URBs in a single list of QHs.  <a href="#8fd9263ed86449c5440edd834cb4d766"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#63f169b583c3818268def3614ac2fe0a">kill_all_urbs</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Responds with an error status of ETIMEDOUT to all URBs in the non-periodic and periodic schedules.  <a href="#63f169b583c3818268def3614ac2fe0a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#65c0cd2720ab3e728fffd0073b4a1aba">dwc_otg_hcd_start_connect_timer</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the connection timer.  <a href="#65c0cd2720ab3e728fffd0073b4a1aba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#a0deab93f6ca3bcfcab0085b2bf86113">dwc_otg_hcd_session_start_cb</a> (void *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HCD Callback function for disconnect of the HCD.  <a href="#a0deab93f6ca3bcfcab0085b2bf86113"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#1aaeb9f41b201877f86a17d617b828d2">dwc_otg_hcd_start_cb</a> (void *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HCD Callback function for starting the HCD when A-Cable is connected.  <a href="#1aaeb9f41b201877f86a17d617b828d2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#2af30c3c78408325b26e3431b2442055">dwc_otg_hcd_disconnect_cb</a> (void *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HCD Callback function for disconnect of the HCD.  <a href="#2af30c3c78408325b26e3431b2442055"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#44e479b1c67b62a1887f93afd2106e4a">dwc_otg_hcd_stop_cb</a> (void *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HCD Callback function for stopping the HCD.  <a href="#44e479b1c67b62a1887f93afd2106e4a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#fb35aff10c8837095302575957145f13">dwc_otg_hcd_rem_wakeup_cb</a> (void *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HCD Callback function for Remote Wakeup.  <a href="#fb35aff10c8837095302575957145f13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#70c58e8a45eb7ad8ee2f2c74ba3a77f0">dwc_otg_hcd_stop</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Halts the DWC_otg host mode operations in a clean manner.  <a href="#70c58e8a45eb7ad8ee2f2c74ba3a77f0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#e8129fbc0a4073f0a5f64fa3b0f5127b">dwc_otg_hcd_urb_enqueue</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb, void **ep_handle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queue URB.  <a href="#e8129fbc0a4073f0a5f64fa3b0f5127b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#8844d0e14480b7f0dcf5c8120cc20a4f">dwc_otg_hcd_urb_dequeue</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">De-queue the specified URB.  <a href="#8844d0e14480b7f0dcf5c8120cc20a4f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#f80e9550161e354c865e3c411d661dbe">dwc_otg_hcd_endpoint_disable</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, void *ep_handle, int retry)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees resources in the DWC_otg controller related to a given endpoint.  <a href="#f80e9550161e354c865e3c411d661dbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ed4640393d701e9bbfd966d4006a60b8"></a><!-- doxytag: member="dwc_otg_hcd.c::reset_tasklet_func" ref="ed4640393d701e9bbfd966d4006a60b8" args="(void *data)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#ed4640393d701e9bbfd966d4006a60b8">reset_tasklet_func</a> (void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset tasklet function. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d76881c1efea1a13be74ecfde85b4881"></a><!-- doxytag: member="dwc_otg_hcd.c::qh_list_free" ref="d76881c1efea1a13be74ecfde85b4881" args="(dwc_otg_hcd_t *hcd, dwc_list_link_t *qh_list)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#d76881c1efea1a13be74ecfde85b4881">qh_list_free</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, dwc_list_link_t *qh_list)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7ee877a9be0c15bacbb92a7babb116d0"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_free" ref="7ee877a9be0c15bacbb92a7babb116d0" args="(dwc_otg_hcd_t *dwc_otg_hcd)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#7ee877a9be0c15bacbb92a7babb116d0">dwc_otg_hcd_free</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees secondary storage associated with the <a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a> structure contained in the struct usb_hcd field. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#2d38590dadee51fd767d63e0dc675f23">dwc_otg_hcd_init</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__core__if.html">dwc_otg_core_if_t</a> *core_if)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function should be called to initiate HCD Core.  <a href="#2d38590dadee51fd767d63e0dc675f23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#f347bcb363a622ced29161878d38830b">dwc_otg_hcd_remove</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees HCD.  <a href="#f347bcb363a622ced29161878d38830b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a9b6729ba2077bed1b6d149970d5525e"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_reinit" ref="a9b6729ba2077bed1b6d149970d5525e" args="(dwc_otg_hcd_t *hcd)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#a9b6729ba2077bed1b6d149970d5525e">dwc_otg_hcd_reinit</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes dynamic portions of the DWC_otg HCD state. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#08cefee3729196462fe6a7608046652c">assign_and_init_hc</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *qh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assigns transactions from a QTD to a free host channel and initializes the host channel to perform the transactions.  <a href="#08cefee3729196462fe6a7608046652c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="dwc__otg__hcd_8h.html#92c49783eebc5bcffa8b8a51c2127be9">dwc_otg_transaction_type_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#96cc299f4f0478187ed7ba49b975ffc3">dwc_otg_hcd_select_transactions</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function selects transactions from the HCD transfer schedule and assigns them to available host channels.  <a href="#96cc299f4f0478187ed7ba49b975ffc3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#8c7cd2f81cf41dbf3158f49b1d82a4f8">queue_transaction</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="structdwc__hc.html">dwc_hc_t</a> *hc, uint16_t fifo_dwords_avail)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempts to queue a single transaction request for a host channel associated with either a periodic or non-periodic transfer.  <a href="#8c7cd2f81cf41dbf3158f49b1d82a4f8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#00876268eb53e5ce91dbedcb026181ec">process_periodic_channels</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes periodic channels for the next frame and queues transactions for these channels to the DWC_otg controller.  <a href="#00876268eb53e5ce91dbedcb026181ec"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#a3f28e8605fd652c5177962e5dc8b95a">process_non_periodic_channels</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes active non-periodic channels and queues transactions for these channels to the DWC_otg controller.  <a href="#a3f28e8605fd652c5177962e5dc8b95a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#2f57bf2fc3013d63101f112702b913a0">dwc_otg_hcd_queue_transactions</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, <a class="el" href="dwc__otg__hcd_8h.html#92c49783eebc5bcffa8b8a51c2127be9">dwc_otg_transaction_type_e</a> tr_type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function processes the currently active host channels and queues transactions for these channels to the DWC_otg controller.  <a href="#2f57bf2fc3013d63101f112702b913a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#e3bd4e9d1f641cdd29df6633bfb1ebd2">dwc_otg_hcd_hub_control</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>, uint16_t typeReq, uint16_t wValue, uint16_t wIndex, uint8_t *buf, uint16_t wLength)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles hub class-specific requests.  <a href="#e3bd4e9d1f641cdd29df6633bfb1ebd2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#0d324c8dbb0c7cbadec8cebf943fc84b">dwc_otg_hcd_is_status_changed</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, int port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 if status of specified port is changed and 0 otherwise.  <a href="#0d324c8dbb0c7cbadec8cebf943fc84b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#f06514bd6f8c219cc72d1f467a82c056">dwc_otg_hcd_get_frame_number</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns current frame number.  <a href="#f06514bd6f8c219cc72d1f467a82c056"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#7242be8ebc7f7516292cbe2344ab03be">dwc_otg_hcd_start</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, struct <a class="el" href="structdwc__otg__hcd__function__ops.html">dwc_otg_hcd_function_ops</a> *<a class="el" href="dwc__otg__pcd__linux_8c.html#9ce9b5e49c60906c189bee157dd68acd">fops</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function initializes the HCD Core.  <a href="#7242be8ebc7f7516292cbe2344ab03be"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#7740268b2d0fd8d25aaaeacfa5aef5cf">dwc_otg_hcd_get_priv_data</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns private data set by dwc_otg_hcd_set_priv_data function.  <a href="#7740268b2d0fd8d25aaaeacfa5aef5cf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#c73ca7d4284c8f0de7338a66607e4eb1">dwc_otg_hcd_set_priv_data</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, void *priv_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set private data.  <a href="#c73ca7d4284c8f0de7338a66607e4eb1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#e7d3657931984a1ce1cee5cf47cb08f3">dwc_otg_hcd_otg_port</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns otg port number.  <a href="#e7d3657931984a1ce1cee5cf47cb08f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#ca25b33b440a4ef112ee459c26c14adc">dwc_otg_hcd_is_b_host</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 1 if currently core is acting as B host, and 0 otherwise.  <a href="#ca25b33b440a4ef112ee459c26c14adc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#264fc9d293c76e42dded9dee2cf44283">dwc_otg_hcd_urb_alloc</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, int iso_desc_count, int atomic_alloc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates memory for <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a> structure.  <a href="#264fc9d293c76e42dded9dee2cf44283"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#4aca8781f512198149388799a8ae9aba">dwc_otg_hcd_urb_set_pipeinfo</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb, uint8_t dev_addr, uint8_t ep_num, uint8_t ep_type, uint8_t ep_dir, uint16_t mps)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set pipe information in URB.  <a href="#4aca8781f512198149388799a8ae9aba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#d141b0ed3f2eac3f8aab2d8cefe34345">dwc_otg_hcd_urb_set_params</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb, void *urb_handle, void *buf, dwc_dma_t dma, uint32_t buflen, void *setup_packet, dwc_dma_t setup_dma, uint32_t flags, uint16_t interval)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a> parameters.  <a href="#d141b0ed3f2eac3f8aab2d8cefe34345"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#81b7aad80889affb1e63cf1307b88fb6">dwc_otg_hcd_urb_get_status</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets status from <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a>.  <a href="#81b7aad80889affb1e63cf1307b88fb6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#3260f5db4ea20074da16b292eb1a686b">dwc_otg_hcd_urb_get_actual_length</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets actual length from <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a>.  <a href="#3260f5db4ea20074da16b292eb1a686b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#816cc30c3129fc8911a458355d977129">dwc_otg_hcd_urb_get_error_count</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets error count from <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a>.  <a href="#816cc30c3129fc8911a458355d977129"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#8617e93eba1bfd6466a9af1e6d2f731b">dwc_otg_hcd_urb_set_iso_desc_params</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb, int desc_num, uint32_t offset, uint32_t length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set ISOC descriptor offset and length.  <a href="#8617e93eba1bfd6466a9af1e6d2f731b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#fde27182e452709e10c1100ea57aa46b">dwc_otg_hcd_urb_get_iso_desc_status</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb, int desc_num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get status of ISOC descriptor, specified by desc_num.  <a href="#fde27182e452709e10c1100ea57aa46b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#c6d28fc3e6aedb29d46a793423c4de0a">dwc_otg_hcd_urb_get_iso_desc_actual_length</a> (<a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *dwc_otg_urb, int desc_num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get actual length of ISOC descriptor, specified by desc_num.  <a href="#c6d28fc3e6aedb29d46a793423c4de0a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#5deb69c332ba937b959c9dccadd87568">dwc_otg_hcd_is_bandwidth_allocated</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, void *ep_handle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call this function to check if bandwidth was allocated for specified endpoint.  <a href="#5deb69c332ba937b959c9dccadd87568"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#ad28eed057375c7f31663dc777edefd7">dwc_otg_hcd_is_bandwidth_freed</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, void *ep_handle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call this function to check if bandwidth was freed for specified endpoint.  <a href="#ad28eed057375c7f31663dc777edefd7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#bd160be911ccc8f90141dae9c40276eb">dwc_otg_hcd_get_ep_bandwidth</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd, void *ep_handle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns bandwidth allocated for specified endpoint in microseconds.  <a href="#bd160be911ccc8f90141dae9c40276eb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#464f920221173fe04c756a9d6657f321">dwc_otg_hcd_dump_state</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dumps hcd state.  <a href="#464f920221173fe04c756a9d6657f321"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#b2c46e92cdc57b1783f445ed60cc3f38">dwc_otg_hcd_dump_frrem</a> (<a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *hcd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump the average frame remaining at SOF.  <a href="#b2c46e92cdc57b1783f445ed60cc3f38"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdwc__otg__cil__callbacks.html">dwc_otg_cil_callbacks_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dwc__otg__hcd_8c.html#106ff6cbb1499325ea75f2d97abb8e6a">hcd_cil_callbacks</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">HCD Callback structure for handling mode switching.  <a href="#106ff6cbb1499325ea75f2d97abb8e6a"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file implements HCD Core. 
<p>
All code in this file is portable and don't use any OS specific functions. Interface provided by HCD Core is defined in <code>&lt;hcd_if.h&gt;</code> header file. 
<p>
Definition in file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="4f6f55c20aa8eb215d692195f9f0280d"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_connect_timeout" ref="4f6f55c20aa8eb215d692195f9f0280d" args="(void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_connect_timeout           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connection timeout function. 
<p>
An OTG host is required to display a message if the device does not connect within 10 seconds. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00054">54</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="5a7a5af3b84b4af188fa3b60058a039c"></a><!-- doxytag: member="dwc_otg_hcd.c::hcd_start_func" ref="5a7a5af3b84b4af188fa3b60058a039c" args="(void *_vp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void hcd_start_func           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>_vp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Work queue function for starting the HCD when A-Cable is connected. 
<p>
The <a class="el" href="dwc__otg__cil__intr_8c.html#fc2d933cd662b3d060747004c79203a1">hcd_start()</a> must be called in a process context. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00123">123</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="8fd9263ed86449c5440edd834cb4d766"></a><!-- doxytag: member="dwc_otg_hcd.c::kill_urbs_in_qh_list" ref="8fd9263ed86449c5440edd834cb4d766" args="(dwc_otg_hcd_t *hcd, dwc_list_link_t *qh_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void kill_urbs_in_qh_list           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dwc_list_link_t *&nbsp;</td>
          <td class="paramname"> <em>qh_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes all the URBs in a single list of QHs. 
<p>
Completes them with -ETIMEDOUT and frees the QTD. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00154">154</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="63f169b583c3818268def3614ac2fe0a"></a><!-- doxytag: member="dwc_otg_hcd.c::kill_all_urbs" ref="63f169b583c3818268def3614ac2fe0a" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void kill_all_urbs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Responds with an error status of ETIMEDOUT to all URBs in the non-periodic and periodic schedules. 
<p>
The QTD associated with each URB is removed from the schedule and freed. This function may be called when a disconnect is detected or when the HCD is being stopped. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00182">182</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="65c0cd2720ab3e728fffd0073b4a1aba"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_start_connect_timer" ref="65c0cd2720ab3e728fffd0073b4a1aba" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void dwc_otg_hcd_start_connect_timer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start the connection timer. 
<p>
An OTG host is required to display a message if the device does not connect within 10 seconds. The timer is deleted if a port connect interrupt occurs before the timer expires. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00198">198</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="a0deab93f6ca3bcfcab0085b2bf86113"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_session_start_cb" ref="a0deab93f6ca3bcfcab0085b2bf86113" args="(void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t dwc_otg_hcd_session_start_cb           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
HCD Callback function for disconnect of the HCD. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>void pointer to the <code>struct usb_hcd</code> </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00208">208</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="1aaeb9f41b201877f86a17d617b828d2"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_start_cb" ref="1aaeb9f41b201877f86a17d617b828d2" args="(void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t dwc_otg_hcd_start_cb           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
HCD Callback function for starting the HCD when A-Cable is connected. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>void pointer to the <code>struct usb_hcd</code> </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00223">223</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="2af30c3c78408325b26e3431b2442055"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_disconnect_cb" ref="2af30c3c78408325b26e3431b2442055" args="(void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t dwc_otg_hcd_disconnect_cb           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
HCD Callback function for disconnect of the HCD. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>void pointer to the <code>struct usb_hcd</code> </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00253">253</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="44e479b1c67b62a1887f93afd2106e4a"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_stop_cb" ref="44e479b1c67b62a1887f93afd2106e4a" args="(void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t dwc_otg_hcd_stop_cb           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
HCD Callback function for stopping the HCD. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>void pointer to the <code>struct usb_hcd</code> </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00373">373</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="fb35aff10c8837095302575957145f13"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_rem_wakeup_cb" ref="fb35aff10c8837095302575957145f13" args="(void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int dwc_otg_hcd_rem_wakeup_cb           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
HCD Callback function for Remote Wakeup. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>void pointer to the <code>struct usb_hcd</code> </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00403">403</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="70c58e8a45eb7ad8ee2f2c74ba3a77f0"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_stop" ref="70c58e8a45eb7ad8ee2f2c74ba3a77f0" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_stop           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Halts the DWC_otg host mode operations in a clean manner. 
<p>
USB transfers are stopped. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00422">422</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="e8129fbc0a4073f0a5f64fa3b0f5127b"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_enqueue" ref="e8129fbc0a4073f0a5f64fa3b0f5127b" args="(dwc_otg_hcd_t *hcd, dwc_otg_hcd_urb_t *dwc_otg_urb, void **ep_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_urb_enqueue           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>ep_handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queue URB. 
<p>
After transfer is completes, the complete callback will be called with the URB status<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a></em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_handle</em>&nbsp;</td><td>Out parameter for returning endpoint handle</td></tr>
  </table>
</dl>
Returns -DWC_E_NO_DEVICE if no device is connected. Returns -DWC_E_NO_MEMORY if there is no enough memory. Returns 0 on success. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00444">444</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="8844d0e14480b7f0dcf5c8120cc20a4f"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_dequeue" ref="8844d0e14480b7f0dcf5c8120cc20a4f" args="(dwc_otg_hcd_t *hcd, dwc_otg_hcd_urb_t *dwc_otg_urb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_urb_dequeue           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
De-queue the specified URB. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a></em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00489">489</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="f80e9550161e354c865e3c411d661dbe"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_endpoint_disable" ref="f80e9550161e354c865e3c411d661dbe" args="(dwc_otg_hcd_t *hcd, void *ep_handle, int retry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_endpoint_disable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ep_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>retry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees resources in the DWC_otg controller related to a given endpoint. 
<p>
Any URBs for the endpoint must already be dequeued.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_handle</em>&nbsp;</td><td>Endpoint handle, returned by dwc_otg_hcd_urb_enqueue function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retry</em>&nbsp;</td><td>Number of retries if there are queued transfers.</td></tr>
  </table>
</dl>
Returns -DWC_E_INVALID if invalid arguments are passed. Returns 0 on success 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00547">547</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="2d38590dadee51fd767d63e0dc675f23"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_init" ref="2d38590dadee51fd767d63e0dc675f23" args="(dwc_otg_hcd_t *hcd, dwc_otg_core_if_t *core_if)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdwc__otg__core__if.html">dwc_otg_core_if_t</a> *&nbsp;</td>
          <td class="paramname"> <em>core_if</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function should be called to initiate HCD Core. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>core_if</em>&nbsp;</td><td>The DWC_OTG Core</td></tr>
  </table>
</dl>
Returns -DWC_E_NO_MEMORY if no enough memory. Returns 0 on success 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00693">693</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="f347bcb363a622ced29161878d38830b"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_remove" ref="f347bcb363a622ced29161878d38830b" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_remove           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees HCD. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00778">778</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="08cefee3729196462fe6a7608046652c"></a><!-- doxytag: member="dwc_otg_hcd.c::assign_and_init_hc" ref="08cefee3729196462fe6a7608046652c" args="(dwc_otg_hcd_t *hcd, dwc_otg_qh_t *qh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void assign_and_init_hc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdwc__otg__qh.html">dwc_otg_qh_t</a> *&nbsp;</td>
          <td class="paramname"> <em>qh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assigns transactions from a QTD to a free host channel and initializes the host channel to perform the transactions. 
<p>
The host channel is removed from the free list.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qh</em>&nbsp;</td><td>Transactions from the first QTD for this QH are selected and assigned to a free host channel. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00832">832</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="96cc299f4f0478187ed7ba49b975ffc3"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_select_transactions" ref="96cc299f4f0478187ed7ba49b975ffc3" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dwc__otg__hcd_8h.html#92c49783eebc5bcffa8b8a51c2127be9">dwc_otg_transaction_type_e</a> dwc_otg_hcd_select_transactions           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function selects transactions from the HCD transfer schedule and assigns them to available host channels. 
<p>
It is called from HCD interrupt handler functions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The types of new transactions that were assigned to host channels. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01055">1055</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="8c7cd2f81cf41dbf3158f49b1d82a4f8"></a><!-- doxytag: member="dwc_otg_hcd.c::queue_transaction" ref="8c7cd2f81cf41dbf3158f49b1d82a4f8" args="(dwc_otg_hcd_t *hcd, dwc_hc_t *hc, uint16_t fifo_dwords_avail)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int queue_transaction           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdwc__hc.html">dwc_hc_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>fifo_dwords_avail</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attempts to queue a single transaction request for a host channel associated with either a periodic or non-periodic transfer. 
<p>
This function assumes that there is space available in the appropriate request queue. For an OUT transfer or SETUP transaction in Slave mode, it checks whether space is available in the appropriate Tx FIFO.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hc</em>&nbsp;</td><td>Host channel descriptor associated with either a periodic or non-periodic transfer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fifo_dwords_avail</em>&nbsp;</td><td>Number of DWORDs available in the periodic Tx FIFO for periodic transfers or the non-periodic Tx FIFO for non-periodic transfers.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>1 if a request is queued and more requests may be needed to complete the transfer, 0 if no more requests are required for this transfer, -1 if there is insufficient space in the Tx FIFO. </dd></dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01139">1139</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="00876268eb53e5ce91dbedcb026181ec"></a><!-- doxytag: member="dwc_otg_hcd.c::process_periodic_channels" ref="00876268eb53e5ce91dbedcb026181ec" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void process_periodic_channels           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes periodic channels for the next frame and queues transactions for these channels to the DWC_otg controller. 
<p>
After queueing transactions, the Periodic Tx FIFO Empty interrupt is enabled if there are more transactions to queue as Periodic Tx FIFO or request queue space becomes available. Otherwise, the Periodic Tx FIFO Empty interrupt is disabled. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01199">1199</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="a3f28e8605fd652c5177962e5dc8b95a"></a><!-- doxytag: member="dwc_otg_hcd.c::process_non_periodic_channels" ref="a3f28e8605fd652c5177962e5dc8b95a" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void process_non_periodic_channels           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes active non-periodic channels and queues transactions for these channels to the DWC_otg controller. 
<p>
After queueing transactions, the NP Tx FIFO Empty interrupt is enabled if there are more transactions to queue as NP Tx FIFO or request queue space becomes available. Otherwise, the NP Tx FIFO Empty interrupt is disabled. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01316">1316</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="2f57bf2fc3013d63101f112702b913a0"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_queue_transactions" ref="2f57bf2fc3013d63101f112702b913a0" args="(dwc_otg_hcd_t *hcd, dwc_otg_transaction_type_e tr_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_queue_transactions           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dwc__otg__hcd_8h.html#92c49783eebc5bcffa8b8a51c2127be9">dwc_otg_transaction_type_e</a>&nbsp;</td>
          <td class="paramname"> <em>tr_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function processes the currently active host channels and queues transactions for these channels to the DWC_otg controller. 
<p>
It is called from HCD interrupt handler functions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD state structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tr_type</em>&nbsp;</td><td>The type(s) of transactions to queue (non-periodic, periodic, or both). </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01426">1426</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="e3bd4e9d1f641cdd29df6633bfb1ebd2"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_hub_control" ref="e3bd4e9d1f641cdd29df6633bfb1ebd2" args="(dwc_otg_hcd_t *dwc_otg_hcd, uint16_t typeReq, uint16_t wValue, uint16_t wIndex, uint8_t *buf, uint16_t wLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_hub_control           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>typeReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles hub class-specific requests. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd</a></em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>typeReq</em>&nbsp;</td><td>Request Type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wValue</em>&nbsp;</td><td>wValue from control request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wIndex</em>&nbsp;</td><td>wIndex from control request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>data buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wLength</em>&nbsp;</td><td>data buffer length</td></tr>
  </table>
</dl>
Returns -DWC_E_INVALID if invalid argument is passed Returns 0 on success 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l01905">1905</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="0d324c8dbb0c7cbadec8cebf943fc84b"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_is_status_changed" ref="0d324c8dbb0c7cbadec8cebf943fc84b" args="(dwc_otg_hcd_t *hcd, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_is_status_changed           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns 1 if status of specified port is changed and 0 otherwise. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Port number </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02611">2611</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="f06514bd6f8c219cc72d1f467a82c056"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_get_frame_number" ref="f06514bd6f8c219cc72d1f467a82c056" args="(dwc_otg_hcd_t *dwc_otg_hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_get_frame_number           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns current frame number. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02643">2643</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="7242be8ebc7f7516292cbe2344ab03be"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_start" ref="7242be8ebc7f7516292cbe2344ab03be" args="(dwc_otg_hcd_t *hcd, struct dwc_otg_hcd_function_ops *fops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_start           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdwc__otg__hcd__function__ops.html">dwc_otg_hcd_function_ops</a> *&nbsp;</td>
          <td class="paramname"> <em>fops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function initializes the HCD Core. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fops</em>&nbsp;</td><td>The Function Driver Operations data structure containing pointers to all callbacks.</td></tr>
  </table>
</dl>
Returns -DWC_E_NO_DEVICE if Core is currently is in device mode. Returns 0 on success 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02656">2656</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="7740268b2d0fd8d25aaaeacfa5aef5cf"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_get_priv_data" ref="7740268b2d0fd8d25aaaeacfa5aef5cf" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* dwc_otg_hcd_get_priv_data           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns private data set by dwc_otg_hcd_set_priv_data function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02671">2671</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="c73ca7d4284c8f0de7338a66607e4eb1"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_set_priv_data" ref="c73ca7d4284c8f0de7338a66607e4eb1" args="(dwc_otg_hcd_t *hcd, void *priv_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_set_priv_data           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>priv_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set private data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priv_data</em>&nbsp;</td><td>pointer to be stored in private data </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02676">2676</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="e7d3657931984a1ce1cee5cf47cb08f3"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_otg_port" ref="e7d3657931984a1ce1cee5cf47cb08f3" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_otg_hcd_otg_port           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns otg port number. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02681">2681</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="ca25b33b440a4ef112ee459c26c14adc"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_is_b_host" ref="ca25b33b440a4ef112ee459c26c14adc" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_otg_hcd_is_b_host           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns 1 if currently core is acting as B host, and 0 otherwise. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02686">2686</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="264fc9d293c76e42dded9dee2cf44283"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_alloc" ref="264fc9d293c76e42dded9dee2cf44283" args="(dwc_otg_hcd_t *hcd, int iso_desc_count, int atomic_alloc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a>* dwc_otg_hcd_urb_alloc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iso_desc_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>atomic_alloc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocates memory for <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a> structure. 
<p>
Allocated memory should be freed by call dwc_free function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iso_desc_count</em>&nbsp;</td><td>Count of ISOC descriptors </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>atomic_alloc</em>&nbsp;</td><td>Specefies whether to perform atomic allocation. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02698">2698</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="4aca8781f512198149388799a8ae9aba"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_set_pipeinfo" ref="4aca8781f512198149388799a8ae9aba" args="(dwc_otg_hcd_urb_t *dwc_otg_urb, uint8_t dev_addr, uint8_t ep_num, uint8_t ep_type, uint8_t ep_dir, uint16_t mps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_urb_set_pipeinfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd_urb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>devaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>ep_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>ep_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>ep_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>mps</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set pipe information in URB. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>devaddr</em>&nbsp;</td><td>Device Address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_num</em>&nbsp;</td><td>Endpoint Number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_type</em>&nbsp;</td><td>Endpoint Type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_dir</em>&nbsp;</td><td>Endpoint Direction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mps</em>&nbsp;</td><td>Max Packet Size </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02717">2717</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="d141b0ed3f2eac3f8aab2d8cefe34345"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_set_params" ref="d141b0ed3f2eac3f8aab2d8cefe34345" args="(dwc_otg_hcd_urb_t *dwc_otg_urb, void *urb_handle, void *buf, dwc_dma_t dma, uint32_t buflen, void *setup_packet, dwc_dma_t setup_dma, uint32_t flags, uint16_t interval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_urb_set_params           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>urb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>urb_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dwc_dma_t&nbsp;</td>
          <td class="paramname"> <em>dma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dwc_dma_t&nbsp;</td>
          <td class="paramname"> <em>sp_dma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>interval</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a> parameters. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>urb</em>&nbsp;</td><td>DWC_OTG URB allocated by dwc_otg_hcd_urb_alloc function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>urb_handle</em>&nbsp;</td><td>Unique handle for request, this will be passed back to function driver in completion callback. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>The buffer for the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dma</em>&nbsp;</td><td>The DMA buffer for the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buflen</em>&nbsp;</td><td>Transfer length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>Buffer for setup data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sp_dma</em>&nbsp;</td><td>DMA address of setup data buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Transfer flags </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>interval</em>&nbsp;</td><td>Polling interval for interrupt or isochronous transfers. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02730">2730</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="81b7aad80889affb1e63cf1307b88fb6"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_get_status" ref="81b7aad80889affb1e63cf1307b88fb6" args="(dwc_otg_hcd_urb_t *dwc_otg_urb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_otg_hcd_urb_get_status           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets status from <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02747">2747</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="3260f5db4ea20074da16b292eb1a686b"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_get_actual_length" ref="3260f5db4ea20074da16b292eb1a686b" args="(dwc_otg_hcd_urb_t *dwc_otg_urb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_otg_hcd_urb_get_actual_length           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets actual length from <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02752">2752</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="816cc30c3129fc8911a458355d977129"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_get_error_count" ref="816cc30c3129fc8911a458355d977129" args="(dwc_otg_hcd_urb_t *dwc_otg_urb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_otg_hcd_urb_get_error_count           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets error count from <a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb</a>. 
<p>
Only for ISOC URBs<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02757">2757</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="8617e93eba1bfd6466a9af1e6d2f731b"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_set_iso_desc_params" ref="8617e93eba1bfd6466a9af1e6d2f731b" args="(dwc_otg_hcd_urb_t *dwc_otg_urb, int desc_num, uint32_t offset, uint32_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_urb_set_iso_desc_params           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>desc_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set ISOC descriptor offset and length. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc_num</em>&nbsp;</td><td>ISOC descriptor number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Offset from beginig of buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Transaction length </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02762">2762</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="fde27182e452709e10c1100ea57aa46b"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_get_iso_desc_status" ref="fde27182e452709e10c1100ea57aa46b" args="(dwc_otg_hcd_urb_t *dwc_otg_urb, int desc_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_otg_hcd_urb_get_iso_desc_status           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>desc_num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get status of ISOC descriptor, specified by desc_num. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc_num</em>&nbsp;</td><td>ISOC descriptor number </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02770">2770</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="c6d28fc3e6aedb29d46a793423c4de0a"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_urb_get_iso_desc_actual_length" ref="c6d28fc3e6aedb29d46a793423c4de0a" args="(dwc_otg_hcd_urb_t *dwc_otg_urb, int desc_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dwc_otg_hcd_urb_get_iso_desc_actual_length           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd__urb.html">dwc_otg_hcd_urb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>dwc_otg_urb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>desc_num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get actual length of ISOC descriptor, specified by desc_num. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwc_otg_urb</em>&nbsp;</td><td>DWC_OTG URB </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc_num</em>&nbsp;</td><td>ISOC descriptor number </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02776">2776</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="5deb69c332ba937b959c9dccadd87568"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_is_bandwidth_allocated" ref="5deb69c332ba937b959c9dccadd87568" args="(dwc_otg_hcd_t *hcd, void *ep_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_is_bandwidth_allocated           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ep_handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call this function to check if bandwidth was allocated for specified endpoint. 
<p>
Only for ISOC and INTERRUPT endpoints.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_handle</em>&nbsp;</td><td>Endpoint handle </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02782">2782</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="ad28eed057375c7f31663dc777edefd7"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_is_bandwidth_freed" ref="ad28eed057375c7f31663dc777edefd7" args="(dwc_otg_hcd_t *hcd, void *ep_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dwc_otg_hcd_is_bandwidth_freed           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ep_handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call this function to check if bandwidth was freed for specified endpoint. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_handle</em>&nbsp;</td><td>Endpoint handle </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02795">2795</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="bd160be911ccc8f90141dae9c40276eb"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_get_ep_bandwidth" ref="bd160be911ccc8f90141dae9c40276eb" args="(dwc_otg_hcd_t *hcd, void *ep_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t dwc_otg_hcd_get_ep_bandwidth           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ep_handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns bandwidth allocated for specified endpoint in microseconds. 
<p>
Only for ISOC and INTERRUPT endpoints.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ep_handle</em>&nbsp;</td><td>Endpoint handle </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02808">2808</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="464f920221173fe04c756a9d6657f321"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_dump_state" ref="464f920221173fe04c756a9d6657f321" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_dump_state           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dumps hcd state. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02815">2815</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<a class="anchor" name="b2c46e92cdc57b1783f445ed60cc3f38"></a><!-- doxytag: member="dwc_otg_hcd.c::dwc_otg_hcd_dump_frrem" ref="b2c46e92cdc57b1783f445ed60cc3f38" args="(dwc_otg_hcd_t *hcd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwc_otg_hcd_dump_frrem           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdwc__otg__hcd.html">dwc_otg_hcd_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hcd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dump the average frame remaining at SOF. 
<p>
This can be used to determine average interrupt latency. Frame remaining is also shown for start transfer and two additional sample points. Currently this function is not implemented.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hcd</em>&nbsp;</td><td>The HCD </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l02991">2991</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="106ff6cbb1499325ea75f2d97abb8e6a"></a><!-- doxytag: member="dwc_otg_hcd.c::hcd_cil_callbacks" ref="106ff6cbb1499325ea75f2d97abb8e6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdwc__otg__cil__callbacks.html">dwc_otg_cil_callbacks_t</a> <a class="el" href="dwc__otg__hcd_8c.html#106ff6cbb1499325ea75f2d97abb8e6a">hcd_cil_callbacks</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        .start = <a class="code" href="dwc__otg__hcd_8c.html#1aaeb9f41b201877f86a17d617b828d2">dwc_otg_hcd_start_cb</a>,
        .stop = <a class="code" href="dwc__otg__hcd_8c.html#44e479b1c67b62a1887f93afd2106e4a">dwc_otg_hcd_stop_cb</a>,
        .disconnect = <a class="code" href="dwc__otg__hcd_8c.html#2af30c3c78408325b26e3431b2442055">dwc_otg_hcd_disconnect_cb</a>,
        .session_start = <a class="code" href="dwc__otg__hcd_8c.html#a0deab93f6ca3bcfcab0085b2bf86113">dwc_otg_hcd_session_start_cb</a>,
        .resume_wakeup = <a class="code" href="dwc__otg__hcd_8c.html#fb35aff10c8837095302575957145f13">dwc_otg_hcd_rem_wakeup_cb</a>,



        .p = 0,
}
</pre></div>HCD Callback structure for handling mode switching. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8c-source.html#l00590">590</a> of file <a class="el" href="dwc__otg__hcd_8c-source.html">dwc_otg_hcd.c</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Tue May 5 02:22:49 2009 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
