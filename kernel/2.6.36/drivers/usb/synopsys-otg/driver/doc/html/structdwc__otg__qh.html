<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: dwc_otg_qh Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>dwc_otg_qh Struct Reference</h1><!-- doxytag: class="dwc_otg_qh" -->A Queue Head (QH) holds the static characteristics of an endpoint and maintains a list of transfers (QTDs) for that endpoint.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#98b78ffd8dbc01be44b302e873e73a82">ep_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Endpoint type.  <a href="#98b78ffd8dbc01be44b302e873e73a82"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2dc622878a6617e5c803061804d5cf9f"></a><!-- doxytag: member="dwc_otg_qh::ep_is_in" ref="2dc622878a6617e5c803061804d5cf9f" args="" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#2dc622878a6617e5c803061804d5cf9f">ep_is_in</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5975c2bede1ca0c6cfe9a66fe0a52567"></a><!-- doxytag: member="dwc_otg_qh::maxp" ref="5975c2bede1ca0c6cfe9a66fe0a52567" args="" -->
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#5975c2bede1ca0c6cfe9a66fe0a52567">maxp</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">wMaxPacketSize Field of Endpoint Descriptor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#42459dd91e199807783000b6dc358a7d">dev_speed</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Device speed.  <a href="#42459dd91e199807783000b6dc358a7d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#b0e001bfd76f5781926795ac47ef2c25">data_toggle</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determines the PID of the next data packet for non-control transfers.  <a href="#b0e001bfd76f5781926795ac47ef2c25"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2c115474978a808c797c8975d72e419d"></a><!-- doxytag: member="dwc_otg_qh::ping_state" ref="2c115474978a808c797c8975d72e419d" args="" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#2c115474978a808c797c8975d72e419d">ping_state</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ping state if 1. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9567d266da8e796d3467fb16ae867f8e"></a><!-- doxytag: member="dwc_otg_qh::qtd_list" ref="9567d266da8e796d3467fb16ae867f8e" args="" -->
dwc_otg_qtd_list&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#9567d266da8e796d3467fb16ae867f8e">qtd_list</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of QTDs for this QH. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bbdb7d30b60b6c326301f33b35088bb4"></a><!-- doxytag: member="dwc_otg_qh::channel" ref="bbdb7d30b60b6c326301f33b35088bb4" args="" -->
<a class="el" href="structdwc__hc.html">dwc_hc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#bbdb7d30b60b6c326301f33b35088bb4">channel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Host channel currently processing transfers for this QH. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8708dd009988ce20b8a8d52a4a96c5a3"></a><!-- doxytag: member="dwc_otg_qh::do_split" ref="8708dd009988ce20b8a8d52a4a96c5a3" args="" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#8708dd009988ce20b8a8d52a4a96c5a3">do_split</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Full/low speed endpoint on high-speed hub requires split. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aac9f90a6afd9056dce79d013dd2168b"></a><!-- doxytag: member="dwc_otg_qh::dw_align_buf" ref="aac9f90a6afd9056dce79d013dd2168b" args="" -->
uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#aac9f90a6afd9056dce79d013dd2168b">dw_align_buf</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used instead of original buffer if it(physical address) is not dword-aligned. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0b008f9d25f5e3b6e285d2830cfdca1"></a><!-- doxytag: member="dwc_otg_qh::dw_align_buf_dma" ref="b0b008f9d25f5e3b6e285d2830cfdca1" args="" -->
dwc_dma_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#b0b008f9d25f5e3b6e285d2830cfdca1">dw_align_buf_dma</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3e1cb9863dc72139e1832c04244c25ff"></a><!-- doxytag: member="dwc_otg_qh::qh_list_entry" ref="3e1cb9863dc72139e1832c04244c25ff" args="" -->
dwc_list_link_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#3e1cb9863dc72139e1832c04244c25ff">qh_list_entry</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Entry for QH in either the periodic or non-periodic schedule. <br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Periodic schedule information</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="401de6aadcfc2f99773f44c6731c4646"></a><!-- doxytag: member="dwc_otg_qh::usecs" ref="401de6aadcfc2f99773f44c6731c4646" args="" -->
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#401de6aadcfc2f99773f44c6731c4646">usecs</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bandwidth in microseconds per (micro)frame. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cdbce86d457f0ea08e2efedc47c9b315"></a><!-- doxytag: member="dwc_otg_qh::interval" ref="cdbce86d457f0ea08e2efedc47c9b315" args="" -->
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#cdbce86d457f0ea08e2efedc47c9b315">interval</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interval between transfers in (micro)frames. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#977a8032f08e45a9e9bdcd558a6965d3">sched_frame</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(micro)frame to initialize a periodic transfer.  <a href="#977a8032f08e45a9e9bdcd558a6965d3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a92b9ff45f0eca459b41ca20e4d8e99c"></a><!-- doxytag: member="dwc_otg_qh::start_split_frame" ref="a92b9ff45f0eca459b41ca20e4d8e99c" args="" -->
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#a92b9ff45f0eca459b41ca20e4d8e99c">start_split_frame</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(micro)frame at which last start split was initialized. <br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Descriptor DMA support</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0e5f35688e54ba97054a1a7576e81150"></a><!-- doxytag: member="dwc_otg_qh::desc_list" ref="0e5f35688e54ba97054a1a7576e81150" args="" -->
<a class="el" href="structdwc__otg__host__dma__desc.html">dwc_otg_host_dma_desc_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#0e5f35688e54ba97054a1a7576e81150">desc_list</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Descriptor List. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c31412bb35362e77c697352fd4c3eeaf"></a><!-- doxytag: member="dwc_otg_qh::desc_list_dma" ref="c31412bb35362e77c697352fd4c3eeaf" args="" -->
dwc_dma_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#c31412bb35362e77c697352fd4c3eeaf">desc_list_dma</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Descriptor List physical address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#6b625d870c7854ccaff5c28fad87482a">n_bytes</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Xfer Bytes array.  <a href="#6b625d870c7854ccaff5c28fad87482a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6da0f75ffa49c8ffadde42e9618ed8c8"></a><!-- doxytag: member="dwc_otg_qh::ntd" ref="6da0f75ffa49c8ffadde42e9618ed8c8" args="" -->
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#6da0f75ffa49c8ffadde42e9618ed8c8">ntd</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Actual number of transfer descriptors in a list. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3b20e91c00b1de8d42612a8b1250b403"></a><!-- doxytag: member="dwc_otg_qh::td_first" ref="3b20e91c00b1de8d42612a8b1250b403" args="" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#3b20e91c00b1de8d42612a8b1250b403">td_first</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">First activated isochronous transfer descriptor index. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9bd6dc808af3f1cab76ae7819af479f9"></a><!-- doxytag: member="dwc_otg_qh::td_last" ref="9bd6dc808af3f1cab76ae7819af479f9" args="" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdwc__otg__qh.html#9bd6dc808af3f1cab76ae7819af479f9">td_last</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last activated isochronous transfer descriptor index. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A Queue Head (QH) holds the static characteristics of an endpoint and maintains a list of transfers (QTDs) for that endpoint. 
<p>
A QH structure may be entered in either the non-periodic or periodic schedule. 
<p>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00261">261</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.<hr><h2>Field Documentation</h2>
<a class="anchor" name="98b78ffd8dbc01be44b302e873e73a82"></a><!-- doxytag: member="dwc_otg_qh::ep_type" ref="98b78ffd8dbc01be44b302e873e73a82" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structdwc__otg__qh.html#98b78ffd8dbc01be44b302e873e73a82">dwc_otg_qh::ep_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Endpoint type. 
<p>
One of the following values:<ul>
<li>UE_CONTROL</li><li>UE_BULK</li><li>UE_INTERRUPT</li><li>UE_ISOCHRONOUS </li></ul>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00270">270</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.
</div>
</div><p>
<a class="anchor" name="42459dd91e199807783000b6dc358a7d"></a><!-- doxytag: member="dwc_otg_qh::dev_speed" ref="42459dd91e199807783000b6dc358a7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structdwc__otg__qh.html#42459dd91e199807783000b6dc358a7d">dwc_otg_qh::dev_speed</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Device speed. 
<p>
One of the following values:<ul>
<li>DWC_OTG_EP_SPEED_LOW</li><li>DWC_OTG_EP_SPEED_FULL</li><li>DWC_OTG_EP_SPEED_HIGH </li></ul>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00283">283</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.
</div>
</div><p>
<a class="anchor" name="b0e001bfd76f5781926795ac47ef2c25"></a><!-- doxytag: member="dwc_otg_qh::data_toggle" ref="b0e001bfd76f5781926795ac47ef2c25" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structdwc__otg__qh.html#b0e001bfd76f5781926795ac47ef2c25">dwc_otg_qh::data_toggle</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determines the PID of the next data packet for non-control transfers. 
<p>
Ignored for control transfers.<br>
 One of the following values:<ul>
<li>DWC_OTG_HC_PID_DATA0</li><li>DWC_OTG_HC_PID_DATA1 </li></ul>

<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00292">292</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.
</div>
</div><p>
<a class="anchor" name="977a8032f08e45a9e9bdcd558a6965d3"></a><!-- doxytag: member="dwc_otg_qh::sched_frame" ref="977a8032f08e45a9e9bdcd558a6965d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="structdwc__otg__qh.html#977a8032f08e45a9e9bdcd558a6965d3">dwc_otg_qh::sched_frame</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
(micro)frame to initialize a periodic transfer. 
<p>
The transfer executes in the following (micro)frame. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00321">321</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.
</div>
</div><p>
<a class="anchor" name="6b625d870c7854ccaff5c28fad87482a"></a><!-- doxytag: member="dwc_otg_qh::n_bytes" ref="6b625d870c7854ccaff5c28fad87482a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t* <a class="el" href="structdwc__otg__qh.html#6b625d870c7854ccaff5c28fad87482a">dwc_otg_qh::n_bytes</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Xfer Bytes array. 
<p>
Each element corresponds to a descriptor and indicates original XferSize size value for the descriptor. 
<p>
Definition at line <a class="el" href="dwc__otg__hcd_8h-source.html#l00352">352</a> of file <a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a>.
</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="dwc__otg__hcd_8h-source.html">dwc_otg_hcd.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue May 5 02:22:49 2009 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
